(function(b,r){function q(a){return"string"===typeof a}function m(a){var c=B.call(arguments,1);return function(){return a.apply(this,c.concat(B.call(arguments)))}}function y(a,c,d,f,u){var w;f!==g?(c=d.match(a?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/),d=c[3]||"",2===u&&q(f)?f=f.replace(a?F:G,""):(w=e(c[2]),f=q(f)?e[a?x:n](f):f,f=2===u?f:1===u?b.extend({},f,w):b.extend({},w,f),f=l(f),a&&(f=f.replace(H,z))),a=c[1]+(a?"#":f||!c[1]?"?":"")+f+d):a=c(d!==g?d:r[D][A]);return a}function C(a,c,d){c===
g||"boolean"===typeof c?(d=c,c=l[a?x:n]()):c=q(c)?c.replace(a?F:G,""):c;return e(c,d)}function t(a,c,d,f){q(d)||"object"===typeof d||(f=d,d=c,c=g);return this.each(function(){var g=b(this),w=c||u()[(this.nodeName||"").toLowerCase()]||"",k=w&&g.attr(w)||"";g.attr(w,l[a](k,d,f))})}"$:nomunge";var g,B=Array.prototype.slice,z=decodeURIComponent,l=b.param,h,e,s,E=b.bbq=b.bbq||{},v,I,u,J=b.event.special,n="querystring",x="fragment",D="location",A="href",G=/^.*\?|#.*$/g,F=/^.*\#/,H,K={};l[n]=m(y,0,function(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,
"$1")});l[x]=h=m(y,1,function(a){return a.replace(/^[^#]*#?(.*)$/,"$1")});h.noEscape=function(a){a=b.map((a||"").split(""),encodeURIComponent);H=RegExp(a.join("|"),"g")};h.noEscape(",/");b.deparam=e=function(a,c){var d={},f={"true":!0,"false":!1,"null":null};b.each(a.replace(/\+/g," ").split("&"),function(a,u){var k=u.split("="),e=z(k[0]),m=d,n=0,p=e.split("]["),h=p.length-1;/\[/.test(p[0])&&/\]$/.test(p[h])?(p[h]=p[h].replace(/\]$/,""),p=p.shift().split("[").concat(p),h=p.length-1):h=0;if(2===k.length)if(k=
z(k[1]),c&&(k=k&&!isNaN(k)?+k:"undefined"===k?g:f[k]!==g?f[k]:k),h)for(;n<=h;n++)e=""===p[n]?m.length:p[n],m=m[e]=n<h?m[e]||(p[n+1]&&isNaN(p[n+1])?{}:[]):k;else b.isArray(d[e])?d[e].push(k):d[e]=d[e]!==g?[d[e],k]:k;else e&&(d[e]=c?g:"")});return d};e[n]=m(C,0);e[x]=s=m(C,1);b.elemUrlAttr||(b.elemUrlAttr=function(a){return b.extend(K,a)})({a:A,base:A,iframe:"src",img:"src",input:"src",form:"action",link:A,script:"src"});u=b.elemUrlAttr;b.fn[n]=m(t,n);b.fn[x]=m(t,x);E.pushState=v=function(a,c){q(a)&&
/^#/.test(a)&&c===g&&(c=2);var d=a!==g,d=h(r[D][A],d?a:{},d?c:2);r[D][A]=d+(/#/.test(d)?"":"#")};E.getState=I=function(a,c){return a===g||"boolean"===typeof a?s(a):s(c)[a]};E.removeState=function(a){var c={};a!==g&&(c=I(),b.each(b.isArray(a)?a:arguments,function(a,b){delete c[b]}));v(c,2)};J.hashchange=b.extend(J.hashchange,{add:function(a){function c(a){var c=a[x]=h();a.getState=function(a,b){return a===g||"boolean"===typeof a?e(c,a):e(c,b)[a]};d.apply(this,arguments)}var d;if(b.isFunction(a))return d=
a,c;d=a.handler;a.handler=c}})})(("undefined"!==typeof livewhale&&null!==livewhale?livewhale.jQuery:void 0)||window.jQuery,this);
(function(b,r,q){function m(b){b=b||r[t][g];return b.replace(/^[^#]*#?(.*)$/,"$1")}"$:nomunge";var y,C=b.event.special,t="location",g="href",B=document.documentMode,z=b.browser.msie&&(B===q||8>B),l="onhashchange"in r&&!z;b.hashchangeDelay=100;C.hashchange=b.extend(C.hashchange,{setup:function(){if(l)return!1;b(y.start)},teardown:function(){if(l)return!1;b(y.stop)}});y=function(){function h(){v=q=function(b){return b};z&&(l=b('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,
q=function(){return m(l.document[t][g])},v=function(b,e){if(b!==e){var g=l.document;g.open().close();g[t].hash="#"+b}},v(m()))}var e={},s,l,v,q;e.start=function(){if(!s){var e=m();v||h();(function n(){var h=m(),l=q(e);h!==e?(v(e=h,l),b(r).trigger("hashchange")):l!==e&&(r[t][g]=r[t][g].replace(/#.*/,"")+"#"+l);s=setTimeout(n,b.hashchangeDelay)})()}};e.stop=function(){l||(s&&clearTimeout(s),s=0)};return e}()})(("undefined"!==typeof livewhale&&null!==livewhale?livewhale.jQuery:void 0)||window.jQuery,
this);
